{"ast":null,"code":"var _jsxFileName = \"/Users/vladryb/elbrus/Proj/Game/Came/src/component/SingUp.jsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nexport default function SingUp(props) {\n  const [messe, setMess] = useState();\n  const history = useHistory();\n\n  async function singUp(event) {\n    event.preventDefault();\n    const response = await fetch('/signUp', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8'\n      },\n      body: JSON.stringify({\n        name: event.target.name.value,\n        email: event.target.email.value,\n        password: event.target.password.value\n      })\n    });\n    const result = await response.json();\n\n    if (result.status === 200) {\n      props.state.addSession(result.session);\n      const user = result.session.name;\n      localStorage.setItem('session', true);\n      localStorage.setItem('user', user);\n      history.push('/');\n    } else {\n      setMess(`${result.error} , Уже Занян`);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    id: \"login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: singUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"form-control \",\n    name: \"name\",\n    placeholder: \"Name\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Enter email\",\n    name: \"email\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    className: \"form-control\",\n    id: \"inputPassword3\",\n    name: \"password\",\n    required: true,\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, messe)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"btn btn-outline-primary\",\n    type: \"submit\",\n    value: \"Sign Up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/vladryb/elbrus/Proj/Game/Came/src/component/SingUp.jsx"],"names":["React","useState","useHistory","SingUp","props","messe","setMess","history","singUp","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","name","target","value","email","password","result","json","status","state","addSession","session","user","localStorage","setItem","push","error"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nexport default function SingUp(props) {\n  const [messe, setMess] = useState();\n  const history = useHistory();\n\n  async function singUp(event) {\n    event.preventDefault();\n\n    const response = await fetch('/signUp', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json;charset=utf-8',\n      },\n      body: JSON.stringify({\n        name: event.target.name.value,\n        email: event.target.email.value,\n        password: event.target.password.value,\n      }),\n    });\n    const result = await response.json();\n    if (result.status === 200) {\n      props.state.addSession(result.session);\n\n      const user = result.session.name;\n      localStorage.setItem('session', true);\n      localStorage.setItem('user', user);\n\n      history.push('/');\n    } else {\n      setMess(`${result.error} , Уже Занян`);\n    }\n  }\n\n  return (\n    <div className='container' id='login'>\n      <form onSubmit={singUp}>\n        <div className='form-group'>\n          <label>Name</label>\n          <input\n            type='text'\n            className='form-control '\n            name='name'\n            placeholder='Name'\n            required\n          />\n        </div>\n        <div className='form-group'>\n          <label>Email</label>\n          <input\n            type='email'\n            className='form-control'\n            id='exampleInputEmail1'\n            aria-describedby='emailHelp'\n            placeholder='Enter email'\n            name='email'\n            required\n          />\n        </div>\n        <div className='form-group'>\n          <label>Password</label>\n          <input\n            type='password'\n            className='form-control'\n            id='inputPassword3'\n            name='password'\n            required\n            placeholder='Password'\n          />\n          <div>{messe}</div>\n        </div>\n\n        <div className='form-group'>\n          <input\n            className='btn btn-outline-primary'\n            type='submit'\n            value='Sign Up'\n          />\n        </div>\n      </form>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}