{"ast":null,"code":"var _jsxFileName = \"/Users/vladryb/elbrus/Proj/\\u0421\\u0432\\u043E\\u044F \\u0438\\u0433\\u0440\\u0430/Came/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Login from './component/Login';\nimport Home from './component/Home';\nimport NavBar from './component/NavBar';\nimport SingUp from './component/SingUp';\nimport './App.css';\n\nfunction App(props) {\n  const store = useSelector(state => state);\n  const dispatch = useDispatch();\n  console.log(store);\n  useEffect(() => {\n    async function question() {\n      const response = await fetch('/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8'\n        }\n      });\n      const result = await response.json();\n      console.log(result.todo);\n\n      if (result.session) {\n        store.dispatch({\n          type: 'LOGIN',\n          session: result.session\n        });\n        const user = result.session.name;\n        localStorage.setItem('session', true);\n        localStorage.setItem('user', user);\n      } else {\n        localStorage.setItem('session', false);\n        localStorage.setItem('user', '');\n      }\n    }\n\n    question();\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavBar, {\n    user: store.user,\n    logout: props.deleteSission,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Home, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    state: props,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/singup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SingUp, {\n    state: props,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }))));\n} // const mapDispatchToProps = (dispatch) => {\n//   return {\n//     addSession: (session) => {\n//       return dispatch({ type: 'LOGIN', session });\n//     },\n//     deleteSission: () => {\n//       return dispatch({ type: 'LOGOUT' });\n//     },\n//   };\n// };\n// export default connect(mapStateToProps, mapDispatchToProps)(App);\n\n\nexport default App;","map":{"version":3,"sources":["/Users/vladryb/elbrus/Proj/Своя игра/Came/src/App.js"],"names":["React","useEffect","useState","connect","useDispatch","useSelector","BrowserRouter","Route","Login","Home","NavBar","SingUp","App","props","store","state","dispatch","console","log","question","response","fetch","method","headers","result","json","todo","session","type","user","name","localStorage","setItem","deleteSission"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,EAAkBC,WAAlB,EAA+BC,WAA/B,QAAkD,aAAlD;AACA,SAASC,aAAT,EAAwBC,KAAxB,QAAqC,kBAArC;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAO,WAAP;;AAEA,SAASC,GAAT,CAAaC,KAAb,EAAoB;AAClB,QAAMC,KAAK,GAAGT,WAAW,CAAEU,KAAD,IAAWA,KAAZ,CAAzB;AACA,QAAMC,QAAQ,GAAGZ,WAAW,EAA5B;AACAa,EAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAb,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAekB,QAAf,GAA0B;AACxB,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAD,EAAM;AAChCC,QAAAA,MAAM,EAAE,MADwB;AAEhCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAFuB,OAAN,CAA5B;AAMA,YAAMC,MAAM,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAArB;AAEAR,MAAAA,OAAO,CAACC,GAAR,CAAYM,MAAM,CAACE,IAAnB;;AACA,UAAIF,MAAM,CAACG,OAAX,EAAoB;AAClBb,QAAAA,KAAK,CAACE,QAAN,CAAe;AAAEY,UAAAA,IAAI,EAAE,OAAR;AAAiBD,UAAAA,OAAO,EAAEH,MAAM,CAACG;AAAjC,SAAf;AAEA,cAAME,IAAI,GAAGL,MAAM,CAACG,OAAP,CAAeG,IAA5B;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgC,IAAhC;AACAD,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BH,IAA7B;AACD,OAND,MAMO;AACLE,QAAAA,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgC,KAAhC;AACAD,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,EAA7B;AACD;AACF;;AACDb,IAAAA,QAAQ;AACT,GAvBQ,EAuBN,EAvBM,CAAT;AAyBA,sBACE,uDACE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAEL,KAAK,CAACe,IAApB;AAA0B,IAAA,MAAM,EAAEhB,KAAK,CAACoB,aAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,eAME,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEpB,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CANF,eASE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAEA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CATF,CADF,CADF;AAiBD,C,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;AAEA,eAAeD,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Login from './component/Login';\nimport Home from './component/Home';\nimport NavBar from './component/NavBar';\nimport SingUp from './component/SingUp';\nimport './App.css';\n\nfunction App(props) {\n  const store = useSelector((state) => state);\n  const dispatch = useDispatch();\n  console.log(store);\n  useEffect(() => {\n    async function question() {\n      const response = await fetch('/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json;charset=utf-8',\n        },\n      });\n      const result = await response.json();\n\n      console.log(result.todo);\n      if (result.session) {\n        store.dispatch({ type: 'LOGIN', session: result.session });\n\n        const user = result.session.name;\n        localStorage.setItem('session', true);\n        localStorage.setItem('user', user);\n      } else {\n        localStorage.setItem('session', false);\n        localStorage.setItem('user', '');\n      }\n    }\n    question();\n  }, []);\n\n  return (\n    <>\n      <BrowserRouter>\n        <NavBar user={store.user} logout={props.deleteSission} />\n\n        <Route exact path='/'>\n          <Home />\n        </Route>\n        <Route path='/login'>\n          <Login state={props} />\n        </Route>\n        <Route path='/singup'>\n          <SingUp state={props} />\n        </Route>\n      </BrowserRouter>\n    </>\n  );\n}\n\n// const mapDispatchToProps = (dispatch) => {\n//   return {\n//     addSession: (session) => {\n//       return dispatch({ type: 'LOGIN', session });\n//     },\n//     deleteSission: () => {\n//       return dispatch({ type: 'LOGOUT' });\n//     },\n//   };\n// };\n\n// export default connect(mapStateToProps, mapDispatchToProps)(App);\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}